<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.evo.evoproject.Mapper.order.OrderMapper">

    <!-- Result Map -->
    <resultMap id="OrderResultMap" type="com.evo.evoproject.domain.order.Order">
        <id property="orderNo" column="order_no" />
        <result property="userNo" column="user_no" />
        <result property="proNo" column="pro_no" />
        <result property="orderName" column="order_name" />
        <result property="orderAddress1" column="order_address_1" />
        <result property="orderAddress2" column="order_address_2" />
        <result property="orderPhone" column="order_phone" />
        <result property="orderComment" column="order_comment" />
        <result property="orderTimestamp" column="order_timestamp" />
        <result property="orderPayment" column="order_payment" />
        <result property="orderStatus" column="order_status" />
        <result property="orderDelivnum" column="order_delivnum" />
    </resultMap>

    <!-- 주문상태별 주문 목록 조회 -->
    <select id="getOrdersByStatus" parameterType="int" resultType="com.evo.evoproject.domain.order.Order">
        SELECT * FROM orders WHERE order_status = #{status}
    </select>

    <!-- 전체 주문 목록 조회 -->
    <select id="getAllOrders" resultType="com.evo.evoproject.domain.order.Order">
        SELECT * FROM orders
    </select>

    <!-- 주문 상태별 주문 개수를 조회 -->
    <select id="countOrdersByStatus" parameterType="int" resultType="int">
        SELECT COUNT(*) FROM orders WHERE order_status = #{status}
    </select>

</mapper>